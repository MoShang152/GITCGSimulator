所有游戏内部工具类均采用**仅**首字母大写命名规则

> 工具类：游戏的各个组件，如牌堆Deck,召唤区Summon等，这些类涉及到寻址问题，所以强制命名统一

类内部的成员变量使用小写。

export-restore是一对对偶方法。但是export导出的是Item, restore用的是Profile. 换句话说export还需要把类名也返回, 但是restore用不着类名.

restore的标准用法：

`name2X(X).restore(profile)`

大部分抽象接口`inf`都存在一个下划线版本`_inf`（监听器的`take_listen`除外，由于一些历史原因）。下划线版本是框架内调用的实际方法，它会对`inf`进行一些包装，补充必要的事件。

> _execute
> _play

所有addListener都会检查一下该Listener是否已经存在(存活), 如果是, 则刷新原Listener而非创建新的. 注意, 存在但alive=False也视作不在.

## Location定位

area:仅首字母大写. Char,Summon, Support, Teambuff
subarea:全小写 weapon, artifact, talent, buff

## 导入关系

GameState,Event,base,Listener(Listener需要GameInstance打注释):最底层

Tokens(Card,Char....):第二层

GameInstance:第三层

Game:第四层

上层可以导入下层,下层只能在TYPE_CHECKING的保护下导入上层.

所以, 在编写card, character等类(及其子类,如果你想要反射的话)时,想要注释GameInstance,必须采用以下写法:

```py
from __future__ import annotations

from typing import TYPY_CHECKING
if TYPE_CHECKING:
    from ..... import GameInstance
```